<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Happy Valentine's Bubby üòçüòò</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,700&family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  :root {
    --rose: #e8456b;
    --rose-light: #fce4ec;
    --rose-dark: #c62d50;
    --blush: #fff0f3;
    --cream: #fff8f0;
    --gold: #f0c27a;
  }

  body {
    font-family: 'Quicksand', sans-serif;
    background: var(--blush);
    min-height: 100dvh;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
  }

  /* Floating hearts background */
  .bg-hearts {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    overflow: hidden;
  }

  .bg-heart {
    position: absolute;
    font-size: 20px;
    opacity: 0.15;
    animation: floatUp linear infinite;
    color: var(--rose);
  }

  @keyframes floatUp {
    0% { transform: translateY(110vh) rotate(0deg) scale(1); opacity: 0; }
    10% { opacity: 0.15; }
    90% { opacity: 0.15; }
    100% { transform: translateY(-10vh) rotate(360deg) scale(0.5); opacity: 0; }
  }

  /* Card */
  .card {
    position: relative;
    z-index: 10;
    background: white;
    border-radius: 28px;
    padding: 40px 28px 36px;
    max-width: 360px;
    width: 90vw;
    text-align: center;
    box-shadow:
      0 4px 24px rgba(232, 69, 107, 0.12),
      0 1px 3px rgba(0,0,0,0.06);
    animation: cardEntry 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) both;
  }

  @keyframes cardEntry {
    0% { opacity: 0; transform: scale(0.7) translateY(40px); }
    100% { opacity: 1; transform: scale(1) translateY(0); }
  }

  /* Bear face */
  .bear {
    width: 120px;
    height: 120px;
    margin: 0 auto 20px;
    position: relative;
    animation: bearBounce 2s ease-in-out infinite;
  }

  @keyframes bearBounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-8px); }
  }

  .bear-face {
    width: 100px;
    height: 90px;
    background: #d4956b;
    border-radius: 50%;
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
  }

  .bear-ear {
    width: 36px;
    height: 36px;
    background: #d4956b;
    border-radius: 50%;
    position: absolute;
    top: 0;
  }
  .bear-ear.left { left: 8px; }
  .bear-ear.right { right: 8px; }

  .bear-ear-inner {
    width: 20px;
    height: 20px;
    background: #f0b088;
    border-radius: 50%;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  .bear-eye {
    width: 10px;
    height: 10px;
    background: #2c1810;
    border-radius: 50%;
    position: absolute;
    top: 32px;
    transition: all 0.3s;
  }
  .bear-eye.left { left: 28px; }
  .bear-eye.right { right: 28px; }

  .bear-eye-shine {
    width: 3px;
    height: 3px;
    background: white;
    border-radius: 50%;
    position: absolute;
    top: 2px;
    right: 2px;
  }

  .bear-nose {
    width: 14px;
    height: 10px;
    background: #2c1810;
    border-radius: 50%;
    position: absolute;
    top: 44px;
    left: 50%;
    transform: translateX(-50%);
  }

  .bear-mouth {
    width: 22px;
    height: 10px;
    border: 2px solid #2c1810;
    border-top: none;
    border-radius: 0 0 50% 50%;
    position: absolute;
    top: 52px;
    left: 50%;
    transform: translateX(-50%);
  }

  .bear-blush {
    width: 18px;
    height: 12px;
    background: #f5a0a0;
    border-radius: 50%;
    position: absolute;
    top: 45px;
    opacity: 0.6;
  }
  .bear-blush.left { left: 12px; }
  .bear-blush.right { right: 12px; }

  .bear-heart {
    position: absolute;
    bottom: -2px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 22px;
    animation: heartPulse 1s ease-in-out infinite;
  }

  @keyframes heartPulse {
    0%, 100% { transform: translateX(-50%) scale(1); }
    50% { transform: translateX(-50%) scale(1.2); }
  }

  /* Sad bear */
  .bear.sad .bear-eye {
    height: 3px;
    top: 36px;
  }
  .bear.sad .bear-eye-shine { display: none; }
  .bear.sad .bear-mouth {
    border: 2px solid #2c1810;
    border-bottom: none;
    border-radius: 50% 50% 0 0;
    top: 56px;
  }
  .bear.sad .bear-blush { opacity: 0; }
  .bear.sad .bear-heart { display: none; }
  .bear.sad { animation: bearShake 0.5s ease-in-out; }

  @keyframes bearShake {
    0%, 100% { transform: translateY(0) rotate(0); }
    25% { transform: translateY(0) rotate(-5deg); }
    75% { transform: translateY(0) rotate(5deg); }
  }

  /* Happy bear */
  .bear.happy .bear-eye {
    height: 4px;
    top: 34px;
    border-radius: 4px 4px 0 0;
    border-bottom: none;
  }
  .bear.happy .bear-mouth {
    width: 30px;
    height: 14px;
  }
  .bear.happy .bear-blush { opacity: 0.8; }
  .bear.happy { animation: bearDance 0.6s ease-in-out infinite; }

  @keyframes bearDance {
    0%, 100% { transform: translateY(0) rotate(0); }
    25% { transform: translateY(-6px) rotate(-4deg); }
    75% { transform: translateY(-6px) rotate(4deg); }
  }

  .question {
    font-family: 'Playfair Display', serif;
    font-size: 26px;
    color: var(--rose-dark);
    line-height: 1.3;
    margin-bottom: 8px;
    animation: fadeIn 0.6s 0.3s both;
  }

  .subtitle {
    font-size: 15px;
    color: #b06070;
    margin-bottom: 28px;
    animation: fadeIn 0.6s 0.5s both;
    font-weight: 600;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .buttons {
    display: flex;
    gap: 14px;
    justify-content: center;
    align-items: center;
    min-height: 60px;
    position: relative;
    animation: fadeIn 0.6s 0.7s both;
  }

  .btn {
    padding: 14px 32px;
    border-radius: 50px;
    border: none;
    font-family: 'Quicksand', sans-serif;
    font-size: 17px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
    user-select: none;
  }

  .btn-yes {
    background: linear-gradient(135deg, var(--rose), var(--rose-dark));
    color: white;
    box-shadow: 0 4px 16px rgba(232, 69, 107, 0.35);
  }
  .btn-yes:active { transform: scale(0.95); }

  .btn-no {
    background: white;
    color: #999;
    border: 2px solid #e0e0e0;
    position: relative;
    transition: all 0.15s ease;
  }

  /* Growing yes button */
  .btn-yes.grow-1 { transform: scale(1.1); padding: 16px 38px; font-size: 18px; }
  .btn-yes.grow-2 { transform: scale(1.2); padding: 18px 44px; font-size: 20px; }
  .btn-yes.grow-3 { transform: scale(1.35); padding: 20px 50px; font-size: 22px; }
  .btn-yes.grow-4 { transform: scale(1.5); padding: 22px 56px; font-size: 24px; }

  /* Shrinking no button */
  .btn-no.shrink-1 { transform: scale(0.85); }
  .btn-no.shrink-2 { transform: scale(0.7); }
  .btn-no.shrink-3 { transform: scale(0.55); color: #ccc; }
  .btn-no.shrink-4 { transform: scale(0.4); color: #ddd; }

  /* Messages */
  .message {
    font-size: 14px;
    color: var(--rose);
    margin-top: 16px;
    min-height: 20px;
    font-weight: 600;
    transition: opacity 0.3s;
  }

  /* Success state */
  .success-wrap {
    display: none;
  }

  .success-wrap.show {
    display: block;
    animation: successPop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) both;
  }

  @keyframes successPop {
    0% { opacity: 0; transform: scale(0.5); }
    100% { opacity: 1; transform: scale(1); }
  }

  .success-text {
    font-family: 'Playfair Display', serif;
    font-size: 32px;
    color: var(--rose-dark);
    margin-bottom: 8px;
  }

  .success-sub {
    font-size: 16px;
    color: #b06070;
    font-weight: 600;
  }

  .success-emoji {
    font-size: 48px;
    display: block;
    margin: 16px 0;
    animation: heartPulse 1s ease-in-out infinite;
  }

  /* Confetti canvas */
  #confetti {
    position: fixed;
    inset: 0;
    z-index: 100;
    pointer-events: none;
  }

  /* Tap ripple */
  .ripple {
    position: absolute;
    border-radius: 50%;
    background: rgba(232, 69, 107, 0.15);
    animation: rippleOut 0.6s ease-out forwards;
    pointer-events: none;
  }

  @keyframes rippleOut {
    0% { width: 0; height: 0; opacity: 1; }
    100% { width: 200px; height: 200px; opacity: 0; margin-top: -100px; margin-left: -100px; }
  }
</style>
</head>
<body>

<div class="bg-hearts" id="bgHearts"></div>
<canvas id="confetti"></canvas>

<div class="card" id="card">
  <div class="bear" id="bear">
    <div class="bear-ear left"><div class="bear-ear-inner"></div></div>
    <div class="bear-ear right"><div class="bear-ear-inner"></div></div>
    <div class="bear-face">
      <div class="bear-eye left"><div class="bear-eye-shine"></div></div>
      <div class="bear-eye right"><div class="bear-eye-shine"></div></div>
      <div class="bear-blush left"></div>
      <div class="bear-blush right"></div>
      <div class="bear-nose"></div>
      <div class="bear-mouth"></div>
    </div>
    <div class="bear-heart">‚ù§Ô∏è</div>
  </div>

  <div id="questionView">
    <div class="question">Will you be my forever valentine? üòçüòò</div>
    <div class="subtitle">Please pick wisely...</div>
    <div class="buttons" id="buttonsWrap">
      <button class="btn btn-yes" id="btnYes" onclick="sayYes()">Yes! üíñ</button>
      <button class="btn btn-no" id="btnNo">No</button>
    </div>
    <div class="message" id="message"></div>
  </div>

  <div class="success-wrap" id="successView">
    <span class="success-emoji">üíï</span>
    <div class="success-text">Yaaay! ü•∞</div>
    <div class="success-sub">I knew you'd say yes, Bubby!<br>Happy Valentine's Day! üòçüòò</div>
  </div>
</div>

<script>
  // Floating background hearts
  const bgHearts = document.getElementById('bgHearts');
  const heartChars = ['‚ô•', '‚ô°', '‚ù§', 'üíï', 'üíó'];
  for (let i = 0; i < 20; i++) {
    const heart = document.createElement('div');
    heart.className = 'bg-heart';
    heart.textContent = heartChars[Math.floor(Math.random() * heartChars.length)];
    heart.style.left = Math.random() * 100 + '%';
    heart.style.fontSize = (14 + Math.random() * 20) + 'px';
    heart.style.animationDuration = (8 + Math.random() * 12) + 's';
    heart.style.animationDelay = (Math.random() * 10) + 's';
    bgHearts.appendChild(heart);
  }

  // Trick logic
  const btnNo = document.getElementById('btnNo');
  const btnYes = document.getElementById('btnYes');
  const bear = document.getElementById('bear');
  const message = document.getElementById('message');

  const noMessages = [
    "Are you sure? ü•∫",
    "Really really sure?? üò¢",
    "Think again... please? üêª",
    "My heart is breaking... üíî",
    "I'll be so sad... üò≠",
    "Pretty please?? üôè",
    "You're breaking my heart! üòø",
    "I won't give up! ü•π",
    "Last chance... say yes? üíò",
    "PLEEEEASE! üò≠üíï"
  ];

  let noCount = 0;

  // No button runs away on touch/hover
  function moveNoButton() {
    noCount++;
    const wrap = document.getElementById('buttonsWrap');
    const wrapRect = wrap.getBoundingClientRect();
    const cardEl = document.getElementById('card');
    const cardRect = cardEl.getBoundingClientRect();

    // Show message
    const msgIndex = Math.min(noCount - 1, noMessages.length - 1);
    message.textContent = noMessages[msgIndex];

    // Bear goes sad
    bear.classList.remove('sad');
    void bear.offsetWidth;
    bear.classList.add('sad');

    // Grow yes, shrink no
    const growLevel = Math.min(noCount, 4);
    btnYes.className = 'btn btn-yes grow-' + growLevel;
    btnNo.className = 'btn btn-no shrink-' + growLevel;

    // Move no button to random position within card
    const maxX = cardRect.width - 80;
    const maxY = 60;
    const randX = Math.random() * maxX - maxX / 2;
    const randY = Math.random() * maxY;
    btnNo.style.position = 'absolute';
    btnNo.style.left = `calc(50% + ${randX}px)`;
    btnNo.style.top = `${randY}px`;
    btnNo.style.transform += ' translate(-50%, 0)';

    // After many tries, make no button almost invisible
    if (noCount >= 6) {
      btnNo.style.opacity = Math.max(0.15, 1 - noCount * 0.12);
    }
  }

  // Touch & click handlers for No button
  btnNo.addEventListener('touchstart', (e) => {
    e.preventDefault();
    moveNoButton();
  }, { passive: false });

  btnNo.addEventListener('mousedown', (e) => {
    e.preventDefault();
    moveNoButton();
  });

  btnNo.addEventListener('mouseenter', () => {
    if (noCount > 0) moveNoButton();
  });

  // Yes button
  function sayYes() {
    document.getElementById('questionView').style.display = 'none';
    document.getElementById('successView').classList.add('show');
    bear.classList.remove('sad');
    bear.classList.add('happy');
    launchConfetti();

    // Vibrate on mobile
    if (navigator.vibrate) navigator.vibrate([100, 50, 100, 50, 200]);
  }

  // Confetti
  function launchConfetti() {
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const pieces = [];
    const colors = ['#e8456b', '#f0c27a', '#ff8fab', '#ff6b9d', '#c62d50', '#fce4ec', '#ff4081', '#f48fb1'];
    const shapes = ['heart', 'circle', 'rect'];

    for (let i = 0; i < 150; i++) {
      pieces.push({
        x: canvas.width / 2 + (Math.random() - 0.5) * 100,
        y: canvas.height + 20,
        vx: (Math.random() - 0.5) * 16,
        vy: -(8 + Math.random() * 14),
        size: 6 + Math.random() * 10,
        color: colors[Math.floor(Math.random() * colors.length)],
        shape: shapes[Math.floor(Math.random() * shapes.length)],
        rotation: Math.random() * 360,
        rotSpeed: (Math.random() - 0.5) * 12,
        gravity: 0.18 + Math.random() * 0.08,
        opacity: 1,
        delay: Math.random() * 400
      });
    }

    const start = performance.now();

    function drawHeart(ctx, x, y, size) {
      const s = size / 2;
      ctx.beginPath();
      ctx.moveTo(0, s * 0.4);
      ctx.bezierCurveTo(-s, -s * 0.4, -s * 1.8, s * 0.6, 0, s * 1.6);
      ctx.bezierCurveTo(s * 1.8, s * 0.6, s, -s * 0.4, 0, s * 0.4);
      ctx.fill();
    }

    function animate(now) {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      const elapsed = now - start;
      let alive = false;

      pieces.forEach(p => {
        if (elapsed < p.delay) { alive = true; return; }
        const t = elapsed - p.delay;

        p.x += p.vx;
        p.vy += p.gravity;
        p.y += p.vy;
        p.vx *= 0.99;
        p.rotation += p.rotSpeed;

        if (t > 2000) p.opacity = Math.max(0, 1 - (t - 2000) / 1000);

        if (p.opacity > 0 && p.y < canvas.height + 50) {
          alive = true;
          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.rotation * Math.PI / 180);
          ctx.globalAlpha = p.opacity;
          ctx.fillStyle = p.color;

          if (p.shape === 'heart') {
            drawHeart(ctx, 0, 0, p.size);
          } else if (p.shape === 'circle') {
            ctx.beginPath();
            ctx.arc(0, 0, p.size / 2, 0, Math.PI * 2);
            ctx.fill();
          } else {
            ctx.fillRect(-p.size / 2, -p.size / 4, p.size, p.size / 2);
          }
          ctx.restore();
        }
      });

      if (alive) requestAnimationFrame(animate);
    }

    requestAnimationFrame(animate);

    // Start heart rain
    startHeartRain();
  }

  function startHeartRain() {
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    const hearts = [];
    const heartEmojis = ['‚ù§Ô∏è', 'üíï', 'üíó', 'üíñ', 'üíò', 'üíù', '‚ô•Ô∏è', 'ü©∑'];

    function spawnHeart() {
      hearts.push({
        x: Math.random() * canvas.width,
        y: -30,
        size: 14 + Math.random() * 22,
        speed: 1.5 + Math.random() * 3,
        sway: Math.random() * 2 - 1,
        swaySpeed: 0.01 + Math.random() * 0.02,
        swayOffset: Math.random() * Math.PI * 2,
        rotation: Math.random() * 0.5 - 0.25,
        emoji: heartEmojis[Math.floor(Math.random() * heartEmojis.length)],
        opacity: 0.6 + Math.random() * 0.4,
        time: 0
      });
    }

    function animateRain() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Spawn new hearts
      if (Math.random() < 0.3) spawnHeart();

      for (let i = hearts.length - 1; i >= 0; i--) {
        const h = hearts[i];
        h.time += 1;
        h.y += h.speed;
        h.x += Math.sin(h.time * h.swaySpeed + h.swayOffset) * h.sway;

        if (h.y > canvas.height + 40) {
          hearts.splice(i, 1);
          continue;
        }

        ctx.save();
        ctx.translate(h.x, h.y);
        ctx.rotate(Math.sin(h.time * 0.02) * h.rotation);
        ctx.globalAlpha = h.opacity;
        ctx.font = h.size + 'px serif';
        ctx.textAlign = 'center';
        ctx.fillText(h.emoji, 0, 0);
        ctx.restore();
      }

      requestAnimationFrame(animateRain);
    }

    // Delay heart rain slightly so confetti hits first
    setTimeout(() => {
      // Pre-spawn some hearts
      for (let i = 0; i < 12; i++) {
        spawnHeart();
        hearts[hearts.length - 1].y = Math.random() * canvas.height;
      }
      animateRain();
    }, 1500);
  }
</script>
</body>
</html>
